!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.CCPlayer=n():t.CCPlayer=n()}(this,function(){return function(t){function n(o){if(e[o])return e[o].exports;var r=e[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n){"use strict";function e(t){"object"===d(window.console)&&window.console.warn&&window.console.warn(t)}function o(t,n){var e=document.getElementsByTagName("head")[0],o=document.createElement("script");o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(n&&n(),o.onload=o.onreadystatechange=null)},e.insertBefore(o,e.firstChild)}function r(t){var n=[],e=void 0;for(e in t)if(t.hasOwnProperty(e)){var o=encodeURIComponent(t[e]);n.push(e+"="+o)}return h+n.join("&")}function i(t){var n=window.on_cc_player_init;window.on_cc_player_init=function(e,o){"function"==typeof n&&n(e,o),t(e,o)}}function a(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!t)throw new Error("参数 `container` 不能为空！");if(t.length&&t.jquery?this.container=t[0]:"string"==typeof t?this.container=document.querySelector(t):this.container=t,!this.container)throw new Error("没有在页面上找到参数 container 对应的元素。");this.options=p({},m,n),this.objectId=null,this._handlers={},this.config={},this.uid=y++,this._initPlayerEvent()}function s(){var t=void 0,n=function(){var n=g[t];a.prototype[n]=function(){var t=this.getSWF();if(t){for(var o=arguments.length,r=Array(o),i=0;o>i;i++)r[i]=arguments[i];return t[n].apply(t,r)}e("请确保在播放器的 `ready` 事件触发以后再调用 `"+n+"` 方法")}};for(t=0;t<g.length;t++)n()}function u(t){var n=void 0;for(n=0;n<w.length;n++)if(w[n].container===t)return w[n];return null}function c(t,n){var e=new a(t,n),o={container:t,options:n,instance:e};return w.push(o),o}function f(t,n){var e=u(t);return e||(e=c(t,n)),e.instance}var p=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},l="http://p.bokecc.com/js/player/v20110712.js",h="http://p.bokecc.com/player?",y=0,m={width:"auto",height:"auto",playertype:1,autoStart:!1},v=function(){var t=!1,n=[];return function(e){n.push(e),t||o(l,function(){for(var t=void 0;t=n.shift();)t()})}}();a.prototype.play=function(t){var n=this;if(!window.cc_js_Player)return void v(function(){return n.play(t)});if(this.options.vid=t?t:this.options.vid,!this.options.vid)throw new Error("`options.vid` 不能为空！");var e=r(this.options);return this._prepareVideoContainer(e),window.cc_js_Player.showPlayer(),this},a.prototype.on=function(t,n){if("function"!=typeof n)throw new Error("`handler` 类型不正确！");return this._handlers[t]||(this._handlers[t]=[]),this._handlers[t].push(n),this},a.prototype.trigger=function(t){var n=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],e=this._handlers[t];if(!e)return this;var o=void 0;for(o=0;o<e.length;o++){var r=e[o];r.apply(this,n)}return this},a.prototype.setConfig=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=this.getSWF();return this.config=p({},this.config,t),n&&n.setConfig(this.config),this},a.prototype.getSWF=function(){var t=this.objectId;return t?window.document[t]?window.document[t]:-1!=navigator.appName.indexOf("Microsoft")?document.getElementById(t):document.embeds&&document.embeds[t]?document.embeds[t]:void 0:null},a.prototype._initPlayerEvent=function(){var t=this,n=["ready","start","pause","resume","stop","seek","buffering","setquality","volumechange","playerror","fullscreen"],e=void 0,o=function(){var o=n[e],r="on_spark_player_"+o,i="on_player_"+o,a=i+"_"+t.uid;t.config[i]=a,window[a]=function(){for(var n=arguments.length,e=Array(n),i=0;n>i;i++)e[i]=arguments[i];"function"==typeof window[r]&&window[r].apply(null,e),t.trigger(o,e)}};for(e=0;e<n.length;e++)o();i(function(n,e){n===t.options.vid&&(t.objectId=e,t.setConfig())})},a.prototype._prepareVideoContainer=function(t){var n=document.createElement("div"),e=document.createElement("script");for(e.type="text/html",e.src=t,n.appendChild(e);this.container.firstChild;)this.container.removeChild(this.container.firstChild);this.container.appendChild(n)};var g=["start","pause","resume","seek","getDuration","getPosition","getQualities","setQuality","setVolume","normalScreen"];s();var w=[];t.exports={init:f}}])});